<xml xmlns="http://www.w3.org/1999/xhtml"><block type="workflow_start" id="b8y9fJggqk+VoJzGC-cI" deletable="false" x="230" y="30"><field name="name">kilroy.ui_agent_template/manager/new_viewer_agent</field><field name="version">1</field><field name="description"></field><field name="interactive">TRUE</field><field name="clean_up">TRUE</field><value name="OUTPUTS"><block type="process_variable_all" id="jea(Zur0jQpN4Wj4hsZ*"><mutation variable_count="2"></mutation><value name="INPUT0"><block type="process_variable" id="QLG/6l|,D~]F5#Xg5vZ4"><field name="process_variable_val">agent_.*</field></block></value><value name="INPUT1"><block type="process_variable" id="g3nNu#c6pIOr5sp6@k,A"><field name="process_variable_val">ex_.*</field></block></value></block></value><next><block type="step_group" id="@5#DWeAnwxT4Tf3(T2xd"><field name="role">*</field><field name="timer">24</field><field name="interactive">TRUE</field><field name="can_terminate">TRUE</field><field name="message"></field><statement name="success"><block type="set_var_to" id="vVZe33B2%,M1:OEK1uO%"><field name="var_name">formData</field><value name="var_expr"><block type="var_new_obj" id=".;eESR3jPU$P~:g^w-|s"></block></value><next><block type="set_obj_to" id="R9HG)DrdQwNXnbA;x#/)"><field name="var_name">formData</field><field name="field_name">agent_parent_id</field><value name="var_expr"><block type="var_variable" id="h1uZueTbz|3{V[`4FpxU"><field name="var_name">agent_parent_id</field></block></value><next><block type="set_obj_to" id="B;tL?z?!T]PrQOm/a|+s"><field name="var_name">formData</field><field name="field_name">agent_name</field><value name="var_expr"><block type="var_value" id=",/h[e)w[s*=?iVWRQ;rF"><field name="value"></field></block></value><next><block type="set_obj_to" id="i?99g69kchslOn0lDlMG"><field name="var_name">formData</field><field name="field_name">agent_desc</field><value name="var_expr"><block type="var_value" id="cN~~,_[sr!T3bT#^u{9K"><field name="value"></field></block></value><next><block type="set_obj_to" id="{)q:;Q;^I`@vPfTTm}0t"><field name="var_name">formData</field><field name="field_name">agent_rec_swarm</field><value name="var_expr"><block type="var_variable" id="WI_3N7HYgz_WZD^VQv_q"><field name="var_name">agent_rec_swarm</field></block></value><next><block type="set_obj_to" id="!,$1q;!$IhNWGj9gmPyT"><field name="var_name">formData</field><field name="field_name">agent_from</field><value name="var_expr"><block type="var_variable" id="6MN3HLrx`k+;NWH{`8o]"><field name="var_name">agent_from</field></block></value><next><block type="set_obj_to" id="nP[D=^+zuiOSr4luTG4g"><field name="var_name">formData</field><field name="field_name">agent_style</field><value name="var_expr"><block type="var_variable" id="zkp:n0KK#mBAZk*M-?|m"><field name="var_name">ex_style</field></block></value><next><block type="set_obj_to" id="=qtR-pJ^;?A4@H$g(]ux"><field name="var_name">formData</field><field name="field_name">agent_width</field><value name="var_expr"><block type="var_variable" id="5bFyU,!6+vT-zA$@eb}h"><field name="var_name">agent_width</field></block></value><next><block type="set_obj_to" id="CVF,5$}D3ZVEkdUUZ/A2"><field name="var_name">formData</field><field name="field_name">agent_height</field><value name="var_expr"><block type="var_variable" id="zK:LH_Y6oJC+c]`KyDh]"><field name="var_name">agent_height</field></block></value><next><block type="simple_inline_form" id="y4D$zeJokr1d|B/8=I^q"><field name="form_id">default</field><field name="sif_title">Configure New Viewer...</field><field name="sif_desc"></field><statement name="form_field_data"><block type="form_text_field" id="nsbAz~J=_vT!F9$:vuuq"><field name="form_field_name">agent_parent_id</field><field name="form_field_label">Parent ID (leave blank if unknown)</field><field name="form_field_placeholder"></field><next><block type="form_text_field" id="g{:-Xu{5U0639zll]yzU"><field name="form_field_name">agent_name</field><field name="form_field_label">Viewer Name</field><field name="form_field_placeholder"></field><next><block type="form_text_field" id="v4tIL),cwjO`Gjx3nHIb"><field name="form_field_name">agent_desc</field><field name="form_field_label">Viewer Description</field><field name="form_field_placeholder"></field><next><block type="form_dropdown" id="Ijj{*J|Xo3wW+TV9/v;)"><field name="form_field_name">agent_style</field><field name="form_field_label">Style</field><statement name="form_field_pairs"><block type="form_field_pair" id="6KtqtzEjXU372aBM:@xU"><field name="field_label">Light</field><field name="field_value_type">int</field><field name="field_value">0</field><next><block type="form_field_pair" id="f]zryr5M}pDB@7I9R^j^"><field name="field_label">Dark</field><field name="field_value_type">int</field><field name="field_value">1</field><next><block type="form_field_pair" id="bI3A;;m}9Spd0qemLBt3"><field name="field_label">Dim</field><field name="field_value_type">int</field><field name="field_value">2</field><next><block type="form_field_pair" id="h,uy-T!Q1rHWIn3X0nrV"><field name="field_label">Blueprint</field><field name="field_value_type">int</field><field name="field_value">3</field></block></next></block></next></block></next></block></statement><next><block type="form_text_field" id="t).|Ub1#-xk8#:8rA/oP"><field name="form_field_name">agent_width</field><field name="form_field_label">Viewer Width (&gt;=256)</field><field name="form_field_placeholder"></field><next><block type="form_text_field" id="33A}$k@y*dQEt_zv*@TP"><field name="form_field_name">agent_height</field><field name="form_field_label">Viewer Height (&gt;=128)</field><field name="form_field_placeholder"></field><next><block type="form_text_field" id=":8.Vwd(fn9k;E`n@]o;C"><field name="form_field_name">agent_rec_swarm</field><field name="form_field_label">Swarm to subscribe to</field><field name="form_field_placeholder">swarm_name</field><next><block type="form_text_field" id="T:Y*([}dW[tyHsy*B#G$"><field name="form_field_name">agent_from</field><field name="form_field_label">Agent Name to listen for</field><field name="form_field_placeholder">some_agent_name</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name="success"><block type="set_var_to" id="$cUp;WG43G?S`/a1roO/"><field name="var_name">jsonForm</field><value name="var_expr"><block type="var_results" id="I`#tu~ELOt@xEv`oj`h`"></block></value><next><block type="set_var_to" id="6R$8rwcZoPimVrbP_0e7"><field name="var_name">agent_width</field><value name="var_expr"><block type="var_math" id="QwVIMg4Ty.Hj8M||J_qU"><field name="operator">multiply</field><value name="op_1"><block type="var_variable" id="Y-jOl7!VNG_6=Wec=JZO"><field name="var_name">agent_width</field></block></value><value name="op_2"><block type="var_value" id=")yEW(1gV4s]=v(O$?R;:"><field name="value">1</field></block></value></block></value><next><block type="set_var_to" id="9hGTAV3y+m}rdb;g(JBi"><field name="var_name">agent_height</field><value name="var_expr"><block type="var_math" id="(|1WFoFcEePEc=QqK$k;"><field name="operator">multiply</field><value name="op_1"><block type="var_variable" id="s,|!8rG=6%us[-iEGW{2"><field name="var_name">agent_height</field></block></value><value name="op_2"><block type="var_value" id="$.{5Qg*T,0?,POZ)vx0*"><field name="value">1</field></block></value></block></value><next><block type="if_then_else" id="2xex4uTh$[VB:Y-mx~_T"><field name="condition">${agent_height} &lt; 128</field><statement name="then"><block type="set_var_to" id="J-PMubA`z0}bs=)hD*Q_"><field name="var_name">agent_height</field><value name="var_expr"><block type="var_value" id="jl(U%*f9o{w,e]KnX)KH"><field name="value">128</field></block></value></block></statement><next><block type="if_then_else" id="{Wki+f8`~=,Apey/e:0C"><field name="condition">${agent_width} &lt; 256</field><statement name="then"><block type="set_var_to" id="%Bomu,EL0A27f_$Vme=v"><field name="var_name">agent_width</field><value name="var_expr"><block type="var_value" id="W#lU[OLAW7bE=s}GHq^:"><field name="value">256</field></block></value></block></statement><next><block type="set_obj_to" id="izr!9c6nB7TrQ0|O(:jy"><field name="var_name">jsonForm</field><field name="field_name">agent_width</field><value name="var_expr"><block type="var_variable" id="rJ8]OW!72Da0jrA%KD2O"><field name="var_name">agent_width</field></block></value><next><block type="set_obj_to" id="J6eRaj#FP)!yMk*F5j15"><field name="var_name">jsonForm</field><field name="field_name">agent_height</field><value name="var_expr"><block type="var_variable" id="rT`#Zg;}?YeYfPa{No*%"><field name="var_name">agent_height</field></block></value><next><block type="start_app_diagram" id="#F+c#zoPzlCm(8Et,0{$"><field name="pdclass">viewer_agent</field><field name="pdalias"></field><field name="pddesc">(${agent_parent_id}) VIEWER ${agent_name}: ${agent_desc}</field><field name="pdargs">{"config": ${jsonForm} }</field><next><block type="set_var_to" id="A/mP`qxmy=CmM?V,~Js?"><field name="var_name">res</field><value name="var_expr"><block type="var_results" id="/5{hWKvNj[!h+{Ca?X@`"></block></value><next><block type="show_app_diagram" id="/RF2,We$AUvYIu@zaogB"><field name="pdalias">${res}</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="workflow_end" id="Ub?h9a`t,Etsd=M0U|uJ"></block></next></block></next></block></xml>