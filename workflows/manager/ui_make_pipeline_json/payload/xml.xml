<xml xmlns="http://www.w3.org/1999/xhtml"><block type="workflow_start" id="b8y9fJggqk+VoJzGC-cI" deletable="false" x="190" y="50"><field name="name">kilroy.ui_agent_template/manager/ui_make_pipeline_json</field><field name="version">1</field><field name="description"></field><field name="interactive">TRUE</field><field name="clean_up">TRUE</field><value name="OUTPUTS"><block type="process_variable_all" id="[baP4qH?m`vxpMcn}C4z"><mutation variable_count="1"></mutation><value name="INPUT0"><block type="process_variable" id="6ReKJH,wptQ3tuwIF/e7"><field name="process_variable_val">msg</field></block></value></block></value><next><block type="step_group" id="@5#DWeAnwxT4Tf3(T2xd"><field name="role">*</field><field name="timer">24</field><field name="interactive">TRUE</field><field name="can_terminate">TRUE</field><field name="message"></field><statement name="success"><block type="simple_inline_form" id="n$(:gIVp2Z`@`b)[=ld#"><field name="form_id">default</field><field name="sif_title">Enter agent aliases in pipeline:</field><field name="sif_desc"></field><statement name="form_field_data"><block type="form_text_field" id="cq|llbS+$XqO|/qh3`O3"><field name="form_field_name">pipeline_id</field><field name="form_field_label">Pipeline ID</field><field name="form_field_placeholder"></field><next><block type="form_repeating_text_field" id="L#T:?/Ug_vYJ5CRysohE"><field name="form_field_name">aliases</field><field name="form_field_label">Aliases</field><field name="form_field_placeholder">kilroy.ai.some_agent_alias</field></block></next></block></statement><statement name="success"><block type="set_var_to" id="X0?qgN?;aKlXgrMim(Q6"><field name="var_name">alen</field><value name="var_expr"><block type="array_length" id="}Ph~rk|n1.mnd[T1pa-x"><field name="array_name">aliases</field></block></value><next><block type="list_reset" id="@f1Xs}]aA-ZPYDc2|N7C"><field name="list_name">agents</field><next><block type="set_var_to" id="@DUmx):kY}x5]j6x--YJ"><field name="var_name">pipeline</field><value name="var_expr"><block type="var_new_obj" id="(G,(=^cBtvf5,xG-t)ya"></block></value><next><block type="set_obj_to" id="@Ykk4wYJ%.)ZOA]2r{GH"><field name="var_name">pipeline</field><field name="field_name">pipeline_id</field><value name="var_expr"><block type="var_variable" id="EF$~*dM}?C%i5`-(IG+S"><field name="var_name">pipeline_id</field></block></value><next><block type="while_loop" id="`dSGpV|53(G[AF:e}:X@"><field name="condition">${alen}&gt;0</field><statement name="do"><block type="set_var_to" id="[e#8P]/?DO!;|l_9dZHJ"><field name="var_name">id</field><value name="var_expr"><block type="array_shift" id="~Fsk;?H8,*Sk)x]Fgq]F"><field name="array_name">aliases</field></block></value><next><block type="trigger_pd" id="c`F,E^wj={WM62p{Hvjh"><field name="pd_id">${id}</field><field name="trigger_name">get_config</field><field name="synchronous">TRUE</field><field name="copyOutputs">FALSE</field><field name="args">{}</field><next><block type="array_push" id="(%g:D,ExTE2u*#c%W]MD"><field name="array_name">agents</field><value name="var_expr"><block type="var_results" id="M^/h6*j_dtLN:}ab2u4{"></block></value><next><block type="set_var_to" id=":sZ?fH7.c(l3zFBp:}$h"><field name="var_name">alen</field><value name="var_expr"><block type="var_math" id="#1h=^lg8$2[fAsEfeda["><field name="operator">subtract</field><value name="op_1"><block type="var_variable" id="|tGo7/^HI!tHgeeIIhmM"><field name="var_name">alen</field></block></value><value name="op_2"><block type="var_value" id="xVl$[%d2Kucsx!z|k3]S"><field name="value">1</field></block></value></block></value></block></next></block></next></block></next></block></statement><next><block type="set_obj_to" id="T!@?#3-,JzfoKIaj%?O."><field name="var_name">pipeline</field><field name="field_name">agents</field><value name="var_expr"><block type="var_variable" id="}4^A=y0e^1~a?%tj]XyO"><field name="var_name">agents</field></block></value><next><block type="set_var_to" id="m.r=6[o9{#OgL%Jd7L1)"><field name="var_name">formData</field><value name="var_expr"><block type="var_new_obj" id="K8r2Tpj4e%5Mk20#fGYk"></block></value><next><block type="set_var_to" id="y=M[)ktBi{zS9[zt%K`0"><field name="var_name">msg</field><value name="var_expr"><block type="var_json_stringify" id=".p9dT.WFl+~bkn7Zkm)0"><field name="formatted">TRUE</field><value name="json"><block type="var_variable" id="TYFYFY[J1ws^)@P#@q$|"><field name="var_name">pipeline</field></block></value></block></value><next><block type="set_obj_to" id="kXa3L$+N1=gx_4j!r+We"><field name="var_name">formData</field><field name="field_name">json</field><value name="var_expr"><block type="var_variable" id="qlw3~aND`cs?Y@0T}uE8"><field name="var_name">msg</field></block></value><next><block type="simple_inline_form" id="4rBf237zj@f]hDj=.mD}"><field name="form_id">default</field><field name="sif_title">Review/Copy the pipeline JSON:</field><field name="sif_desc"></field><statement name="form_field_data"><block type="form_textarea" id="6hM:es9B[(ZDPuAsMib$"><field name="form_field_name">json</field><field name="form_field_label">Pipeline JSON</field><field name="form_field_placeholder"></field></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement><next><block type="workflow_end" id="Ub?h9a`t,Etsd=M0U|uJ"></block></next></block></next></block></xml>